(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d215fd9"],{c10e:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("d2-container",[n("div",{ref:"container",staticStyle:{position:"absolute",top:"0",left:"0",right:"0",bottom:"0"}})])},o=[],l=n("0fab"),i=n.n(l);const a=i()({mxLoadResources:!1});var r={name:"demo-graph-modular",mounted(){if(a.mxClient.isBrowserSupported()){a.mxEvent.disableContextMenu(this.$refs.container);const e=new a.mxGraph(this.$refs.container);e.setCellsResizable(!1),e.setCellsEditable(!1),e.setEdgeLabelsMovable(!1),e.setAllowDanglingEdges(!1),e.setCellsDisconnectable(!1),e.setPanning(!0),e.setResizeContainer(!1),e.setEnabled(!0);let t=e.getStylesheet().getDefaultVertexStyle();t[a.mxConstants.STYLE_SHAPE]=a.mxConstants.SHAPE_RECTANGLE,t[a.mxConstants.STYLE_PERIMETER]=a.mxPerimeter.RectanglePerimeter,t[a.mxConstants.STYLE_ROUNDED]=!0,t[a.mxConstants.STYLE_GRADIENTCOLOR]="white",t[a.mxConstants.STYLE_FONTSIZE]="14",t=e.getStylesheet().getDefaultEdgeStyle(),t[a.mxConstants.STYLE_ROUNDED]=!0,t[a.mxConstants.STYLE_EDGE]=a.mxEdgeStyle.ElbowConnector,t={},t[a.mxConstants.STYLE_SHAPE]=a.mxConstants.SHAPE_ELLIPSE,t[a.mxConstants.STYLE_PERIMETER]=a.mxPerimeter.EllipsePerimeter,t[a.mxConstants.STYLE_FONTCOLOR]="black",t[a.mxConstants.STYLE_FILLCOLOR]="white",t[a.mxConstants.STYLE_FONTSIZE]="10",e.getStylesheet().putCellStyle("extensionPoint",t),t={},t[a.mxConstants.STYLE_EDGE]=a.mxEdgeStyle.SegmentConnector,e.getStylesheet().putCellStyle("extension",t);const n=e.getDefaultParent();e.getModel().beginUpdate();try{const t=120,s=40,o=90,l=20,i=window.$modular.getModules(),r=window.$modular.getApplication(),E={},c={};i.forEach(i=>{const a=i.name;let d=null;"modular-core"===a&&(d="fillColor=green"),i===r&&(d="fillColor=red");const x=e.insertVertex(n,null,a,20,20,t,s,d);if(E[a]=x,i.extensionPoints){const t=i.extensionPoints;for(let s in t){const t=e.insertVertex(n,null,s,20,20,o,l,"extensionPoint");e.insertEdge(n,null,"",t,x,"extension"),c[s]=t}}if(i.extensions){const t=i.extensions;for(let s in t)c[s]?e.insertEdge(n,null,"",x,c[s],"extension"):console.log("extensionPoint 定义不存在"+s,t[s],i)}if(i.dependencies&&i.dependencies.length){const t=i.dependencies;t.forEach(t=>{E[t]?e.insertEdge(n,null,"",x,E[t]):console.log(a+" 依赖的模块 "+t+"不存在!")})}});const d=new a.mxHierarchicalLayout(e,a.mxConstants.DIRECTION_NORTH);let x;d.interRankCellSpacing=60,x=d,x.execute(n)}finally{e.getModel().endUpdate()}}else a.mxUtils.error("Browser is not supported!",200,!1)}},E=r,c=n("a6c2"),d=Object(c["a"])(E,s,o,!1,null,null,null);t["default"]=d.exports}}]);